{"version":3,"sources":["webpack:///./src/app/app.component.css","webpack:///./src/app/book/book-detail/book-detail.component.css","webpack:///./src/app/book/book-list/book-list.component.css","webpack:///./src/app/rating/rating.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/book/book-detail/book-detail.component.html","webpack:///./src/app/book/book-list/book-list.component.html","webpack:///./src/app/rating/rating.component.html","webpack:///./src/app/http.service.ts","webpack:///./src/app/principal.ts","webpack:///./src/app/book.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/book/book-detail/book-detail.component.ts","webpack:///./src/app/book/book-list/book-list.component.ts","webpack:///./src/app/click-stop-propagation.directive.ts","webpack:///./src/app/rating.ts","webpack:///./src/app/rating/rating.component.ts","webpack:///./src/environments/environment.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".custom-close {\\n  float:right;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 148\n// module chunks = 1","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/book/book-detail/book-detail.component.css\n// module id = 149\n// module chunks = 1","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".custom-close {\\n  float:right;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/book/book-list/book-list.component.css\n// module id = 150\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"div.progress {\\n  margin-top: 5px;\\n}\\n\\n.rating:hover {\\n  border: solid blue;\\n}\\n\\n.selected {\\n  border: solid blue;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/rating/rating.component.css\n// module id = 151\n// module chunks = 1","module.exports = \"<nav class=\\\"navbar navbar-toggleable-md navbar-inverse fixed-top bg-inverse\\\">\\n  <button class=\\\"navbar-toggler navbar-toggler-right\\\" type=\\\"button\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#navbarCollapse\\\" aria-controls=\\\"navbarCollapse\\\" aria-expanded=\\\"false\\\" aria-label=\\\"Toggle navigation\\\">\\n    <span class=\\\"navbar-toggler-icon\\\"></span>\\n  </button>\\n  <a class=\\\"navbar-brand\\\" href=\\\"#\\\">Book Rater <span *ngIf=\\\"principal.isAdmin()\\\">Admin</span></a>\\n  <div class=\\\"collapse navbar-collapse\\\" id=\\\"navbarCollapse\\\">\\n    <ul class=\\\"navbar-nav mr-auto\\\">\\n    </ul>\\n    <button *ngIf=\\\"principal.authenticated\\\" type=\\\"button\\\" class=\\\"btn btn-link\\\" (click)=\\\"onLogout()\\\">Logout</button>\\n  </div>\\n</nav>\\n\\n<div class=\\\"jumbotron\\\">\\n  <div class=\\\"container\\\">\\n    <h1>Book Rater App</h1>\\n    <p *ngIf=\\\"!principal.authenticated\\\" class=\\\"lead\\\">Anyone can view the books.</p>\\n    <p *ngIf=\\\"principal.authenticated && !principal.isAdmin()\\\" class=\\\"lead\\\">Users can view and create ratings</p>\\n    <p *ngIf=\\\"principal.isAdmin()\\\"  class=\\\"lead\\\">Admins can do anything!</p>\\n  </div>\\n</div>\\n\\n<section class=\\\"books\\\">\\n  <div class=\\\"container\\\">\\n    <div class=\\\"row\\\">\\n      <div class=\\\"col-md\\\">\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-md-12\\\">\\n            <app-book-list [principal]=\\\"principal\\\" (onBookSelected)=\\\"selectBook($event)\\\"></app-book-list>\\n          </div>\\n        </div>\\n      </div>\\n      <div *ngIf=\\\"selectedBook != null\\\" class=\\\"col-md-3\\\">\\n        <app-book-detail [selectedBook]=\\\"selectedBook\\\" [principal]=\\\"principal\\\" (closeBook)=\\\"closeBookDetail()\\\"></app-book-detail>\\n      </div>\\n    </div>\\n  </div>\\n</section>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 152\n// module chunks = 1","module.exports = \"<div class=\\\"card\\\">\\n  <div class=\\\"card-block\\\">\\n    <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"closeBookDetail()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n    <h4 class=\\\"card-title\\\">Title: {{selectedBook.title}}</h4>\\n    <h6 class=\\\"card-subtitle mb-2 text-muted\\\">Author: {{selectedBook.author}}</h6>\\n    <p class=\\\"card-text\\\">A quick summary of the book</p>\\n    <app-rating *ngIf=\\\"principal.authenticated\\\" [bookId]=\\\"selectedBook.id\\\" [principal]=\\\"principal\\\"></app-rating>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/book/book-detail/book-detail.component.html\n// module id = 153\n// module chunks = 1","module.exports = \"<div class=\\\"col-md-12\\\" *ngFor=\\\"let book of books; let i = index;\\\" (click)=\\\"selectBook(book)\\\">\\n  <div class=\\\"card\\\">\\n    <div class=\\\"card-block\\\">\\n      <div *ngIf=\\\"booksToEdit.indexOf(i) === -1 ; then bookView else bookEdit\\\"></div>\\n      <ng-template #bookView>\\n        <button appClickStopPropagation *ngIf=\\\"principal.isAdmin()\\\" type=\\\"button\\\" class=\\\"btn btn-danger custom-close\\\" (click)=\\\"delete(i)\\\">Delete</button>\\n        <button appClickStopPropagation *ngIf=\\\"principal.isAdmin()\\\" type=\\\"button\\\" class=\\\"btn btn-warning custom-close\\\" (click)=\\\"editBook(i)\\\">Edit</button>\\n        <h4 class=\\\"card-title\\\">Title: {{book.title}}</h4>\\n        <h6 class=\\\"card-subtitle mb-2 text-muted\\\">Author: {{book.author}}</h6>\\n      </ng-template>\\n      <ng-template #bookEdit>\\n        <button appClickStopPropagation type=\\\"button\\\" class=\\\"btn btn-secondary custom-close\\\" (click)=\\\"cancelEditBook(i)\\\">Cancel</button>\\n        <form appClickStopPropagation (ngSubmit)=\\\"saveBook(i, newBooks[i])\\\" class=\\\"mt-2 mt-md-0\\\" #f1=\\\"ngForm\\\">\\n          <div class=\\\"form-group\\\">\\n            <label for=\\\"title\\\">Title:</label>\\n            <input id=\\\"title\\\" name=\\\"title\\\" [(ngModel)]=\\\"newBooks[i].title\\\" required class=\\\"form-control mr-sm-2\\\" type=\\\"text\\\">\\n          </div>\\n          <div class=\\\"form-group\\\">\\n            <label for=\\\"author\\\">Author:</label>\\n            <input id=\\\"author\\\" name=\\\"author\\\" [(ngModel)]=\\\"newBooks[i].author\\\" required class=\\\"form-control mr-sm-2\\\" type=\\\"text\\\">\\n          </div>\\n          <button class=\\\"btn btn-outline-success my-2 my-sm-0\\\" type=\\\"submit\\\" [disabled]=\\\"!f1.valid\\\">Save</button>\\n        </form>\\n      </ng-template>\\n\\n    </div>\\n  </div>\\n</div>\\n<div *ngIf=\\\"principal.isAdmin()\\\" class=\\\"col-md-12\\\">\\n  <div class=\\\"card\\\">\\n    <div class=\\\"card-block\\\">\\n      <div *ngIf=\\\"!isAddNewBook; then bookPlaceHolder else bookAdd\\\"></div>\\n      <ng-template #bookPlaceHolder>\\n        <h4 (click)=\\\"activateAddNewBook()\\\" class=\\\"card-title center-block\\\">Add New Book</h4>\\n      </ng-template>\\n      <ng-template #bookAdd>\\n        <button appClickStopPropagation type=\\\"button\\\" class=\\\"btn btn-secondary custom-close\\\" (click)=\\\"cancelAddBook()\\\">Cancel</button>\\n        <form appClickStopPropagation (ngSubmit)=\\\"addNewBook(newBook, titleNewBook)\\\" class=\\\"mt-2 mt-md-0\\\" #f2=\\\"ngForm\\\">\\n          <div class=\\\"form-group\\\">\\n            <label for=\\\"titleNewBook\\\">Title:</label>\\n            <input id=\\\"titleNewBook\\\" name=\\\"title\\\" [(ngModel)]=\\\"newBook.title\\\" required class=\\\"form-control mr-sm-2\\\" type=\\\"text\\\" #titleNewBook>\\n          </div>\\n          <div class=\\\"form-group\\\">\\n            <label for=\\\"authorNewBook\\\">Author:</label>\\n            <input id=\\\"authorNewBook\\\" name=\\\"author\\\" [(ngModel)]=\\\"newBook.author\\\" required class=\\\"form-control mr-sm-2\\\" type=\\\"text\\\">\\n          </div>\\n          <button class=\\\"btn btn-outline-success my-2 my-sm-0\\\" type=\\\"submit\\\" [disabled]=\\\"!f2.valid\\\">Save</button>\\n        </form>\\n      </ng-template>\\n\\n    </div>\\n  </div>\\n\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/book/book-list/book-list.component.html\n// module id = 154\n// module chunks = 1","module.exports = \"Ratings:\\n<div *ngFor=\\\"let rating of ratings; let i = index;\\\" class=\\\"row\\\">\\n  <div class=\\\"col-md-10\\\">\\n    <div class=\\\"progress\\\"  [ngClass]=\\\"{'selected': principal.isAdmin() && rating === newRating, 'rating': principal.isAdmin()}\\\" (click)=\\\"selectRating(rating)\\\">\\n      <div class=\\\"progress-bar bg-success\\\" role=\\\"progressbar\\\" [style.width]=\\\"findWidth(rating)\\\" [attr.aria-valuenow]=\\\"rating.stars\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"5\\\"></div>\\n    </div>\\n  </div>\\n  <div class=\\\"col-md-1\\\">\\n    <button *ngIf=\\\"principal?.isAdmin()\\\" type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"deleteRating(i)\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n</div>\\n\\n<form (ngSubmit)=\\\"onSaveRating(f)\\\" #f=\\\"ngForm\\\">\\n  <div class=\\\"form-check form-check-inline\\\" *ngFor=\\\"let star of stars; let i = index;\\\">\\n    <label  class=\\\"form-check-label\\\">\\n      <input class=\\\"form-check-input\\\" type=\\\"radio\\\" name=\\\"star\\\" [(ngModel)]=\\\"newRating.stars\\\" [value]=\\\"star\\\">{{star}}\\n    </label>\\n  </div>\\n  <button *ngIf=\\\"newRating.id === null\\\" type=\\\"submit\\\" class=\\\"btn btn-secondary\\\" [disabled]=\\\"!f.valid\\\">Add Rating</button>\\n  <button *ngIf=\\\"principal.isAdmin() && newRating.id !== null\\\" type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"updateRating()\\\">Save</button>\\n  <button *ngIf=\\\"principal.isAdmin() && newRating.id !== null\\\" type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"cancelSelection()\\\">Cancel</button>\\n</form>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/rating/rating.component.html\n// module id = 155\n// module chunks = 1","import {Injectable} from \"@angular/core\";\nimport {Observable} from \"rxjs\";\nimport {Response, Http, Headers, RequestOptions} from \"@angular/http\";\nimport {Book} from \"./book\";\nimport {Rating} from \"./rating\";\n\n@Injectable()\nexport class HttpService {\n\n  constructor(private http: Http) { }\n\n  me(): Observable<Response> {\n    return this.http.get(\"/me\", this.makeOptions())\n  }\n\n  logout(): Observable<Response> {\n    return this.http.post(\"/logout\", '', this.makeOptions())\n  }\n\n  getBooks(): Observable<Response> {\n    return this.http.get(\"/book-service/books\", this.makeOptions())\n  }\n\n  updateBook(newBook: Book): Observable<Response> {\n    return this.http.put(\"/book-service/books/\" + newBook.id, newBook,  this.makeOptions())\n  }\n\n  deleteBook(book: Book): Observable<Response> {\n    return this.http.delete(\"/book-service/books/\" + book.id,  this.makeOptions())\n  }\n\n  createBook(newBook: Book): Observable<Response> {\n    return this.http.post(\"/book-service/books\", newBook,  this.makeOptions())\n  }\n\n  getRatings(bookId: number): Observable<Response> {\n    return this.http.get(\"/rating-service/ratings?bookId=\" + bookId,  this.makeOptions())\n  }\n\n  createRating(rating: Rating): Observable<Response> {\n    return this.http.post(\"/rating-service/ratings\", rating,  this.makeOptions())\n  }\n\n  deleteRating(ratingId: number) {\n    return this.http.delete(\"/rating-service/ratings/\" + ratingId,  this.makeOptions())\n  }\n\n  updateRating(rating: Rating) {\n    return this.http.put(\"/rating-service/ratings/\" + rating.id, rating,  this.makeOptions())\n  }\n\n  private makeOptions(): RequestOptions {\n    let headers = new Headers({'Content-Type': 'application/json'});\n    return new RequestOptions({headers: headers});\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/http.service.ts","export class Principal {\n  public authenticated: boolean;\n  public authorities: Authority[] = [];\n\n  constructor(authenticated: boolean, authorities: any[]) {\n    this.authenticated = authenticated;\n    authorities.map(auth => this.authorities.push(new Authority(auth.authority)))\n  }\n\n  isAdmin() {\n    return this.authorities.some((auth: Authority) => auth.authority.indexOf('ADMIN') > -1)\n  }\n}\n\nexport class Authority {\n  public authority: String;\n\n  constructor(authority: String) {\n    this.authority = authority;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/principal.ts","export class Book {\n  id: number;\n  author: String;\n  title: String;\n  constructor(id: number, author: String, title: String){\n    this.id = id;\n    this.author = author;\n    this.title = title;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/book.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 78;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 78\n// module chunks = 1","import {enableProdMode} from \"@angular/core\";\nimport {platformBrowserDynamic} from \"@angular/platform-browser-dynamic\";\nimport {AppModule} from \"./app/app.module\";\nimport {environment} from \"./environments/environment\";\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import {Principal} from \"./principal\";\nimport {Book} from \"./book\";\nimport {HttpService} from \"./http.service\";\nimport {Component} from \"@angular/core\";\nimport {Response} from \"@angular/http\";\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  selectedBook: Book = null;\n  principal: Principal = new Principal(false, []);\n  loginFailed: boolean = false;\n\n  constructor(private httpService: HttpService) {\n  }\n\n  ngOnInit(): void {\n    this.httpService.me()\n      .subscribe((response: Response) => {\n        let principalJson = response.json();\n        this.principal = new Principal(principalJson.authenticated, principalJson.authorities);\n      }, (error) => {\n        console.log(error);\n      });\n  }\n\n  onLogout() {\n    this.httpService.logout()\n      .subscribe((response: Response) => {\n        if (response.status === 200) {\n          this.loginFailed = false;\n          this.principal = new Principal(false, []);\n          window.location.replace(response.url);\n        }\n      }, (error) => {\n        console.log(error);\n      });\n  }\n\n  closeBookDetail() {\n    this.selectedBook = null;\n  }\n\n  selectBook(book: Book) {\n    this.selectedBook = book;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {BrowserModule} from \"@angular/platform-browser\";\nimport {NgModule} from \"@angular/core\";\nimport {FormsModule} from \"@angular/forms\";\nimport {HttpModule} from \"@angular/http\";\nimport {AppComponent} from \"./app.component\";\nimport {RatingComponent} from \"./rating/rating.component\";\nimport {ClickStopPropagationDirective} from \"./click-stop-propagation.directive\";\nimport {BookDetailComponent} from \"./book/book-detail/book-detail.component\";\nimport {BookListComponent} from \"./book/book-list/book-list.component\";\nimport {HttpService} from \"./http.service\";\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    RatingComponent,\n    ClickStopPropagationDirective,\n    BookDetailComponent,\n    BookListComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule\n  ],\n  providers: [HttpService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import {Component, OnInit, Input, Output, EventEmitter} from \"@angular/core\";\nimport {Book} from \"../../book\";\nimport {Principal} from \"../../principal\";\n\n@Component({\n  selector: 'app-book-detail',\n  templateUrl: './book-detail.component.html',\n  styleUrls: ['./book-detail.component.css']\n})\nexport class BookDetailComponent implements OnInit {\n\n  @Input() selectedBook: Book = null;\n  @Input() principal: Principal = null;\n  @Output() closeBook: EventEmitter<any> = new EventEmitter<any>();\n\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  closeBookDetail() {\n    this.closeBook.emit(null);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/book/book-detail/book-detail.component.ts","import {Component, OnInit, Input, Output, EventEmitter} from \"@angular/core\";\nimport {Principal} from \"../../principal\";\nimport {Book} from \"../../book\";\nimport {Response} from \"@angular/http\";\nimport {HttpService} from \"../../http.service\";\n\n@Component({\n  selector: 'app-book-list',\n  templateUrl: './book-list.component.html',\n  styleUrls: ['./book-list.component.css']\n})\nexport class BookListComponent implements OnInit {\n\n  @Input() principal: Principal = null;\n  @Output() onBookSelected: EventEmitter<Book> = new EventEmitter<Book>();\n\n  books: Book[] = [];\n  newBooks: Book[] = [];\n  newBook: Book = new Book(Math.floor(Math.random() * 1000), '', '');\n  booksToEdit: number[] = [];\n  isAddNewBook: boolean = false;\n  selectedBook: Book = null;\n\n  constructor(private httpService: HttpService) { }\n\n  ngOnInit() {\n    this.loadBooks();\n  }\n\n  loadBooks() {\n    this.httpService.getBooks()\n      .subscribe((response: Response) => {\n        let booksJson: any[] = response.json()\n        booksJson.forEach(book => {\n          this.books.push(new Book(book.id, book.author, book.title));\n          this.newBooks.push(new Book(book.id, book.author, book.title));\n        })\n      }, (error) => {\n        console.log(error);\n      });\n  }\n\n  cancelEditBook(bookIndex: number) {\n    if (this.booksToEdit.indexOf(bookIndex) !== -1) {\n      this.booksToEdit.splice(this.booksToEdit.indexOf(bookIndex), 1); //remove the index of the book to edit\n      //get the original book\n      let bookCopy: Book = new Book(this.books[bookIndex].id, this.books[bookIndex].author, this.books[bookIndex].title);\n      this.newBooks.splice(bookIndex,1,bookCopy); //replace the edited book with the old book\n    }\n  }\n\n  editBook(bookIndex: number) {\n    this.booksToEdit.push(bookIndex);\n  }\n\n  saveBook(bookIndex: number, newBook: Book) {\n    console.log(newBook);\n    //save the book to the database\n    this.httpService.updateBook(newBook)\n      .subscribe((response: Response) => {\n        let bookJson = response.json();\n        let book: Book = new Book(bookJson.id, bookJson.author, bookJson.title);\n        //update the current array of books\n        let bookArr: Book = this.books.find(b => b.id === book.id);\n        bookArr.title = book.title;\n        bookArr.author = book.author;\n        this.booksToEdit.splice(this.booksToEdit.indexOf(bookIndex), 1); //remove the index of the book to edit\n      }, (error) => {\n        console.log(error);\n      });\n\n\n  }\n\n  delete(bookIndex: number) {\n    let book: Book = this.books[bookIndex];\n    this.httpService.deleteBook(book)\n      .subscribe(() => {\n        if (this.selectedBook !== null && this.books[bookIndex].id === this.selectedBook.id) {\n          this.selectedBook = null;\n          this.onBookSelected.emit(this.selectedBook);\n        }\n\n        this.books.splice(bookIndex, 1); //remove the book at this index;\n        this.newBooks.splice(bookIndex, 1); //remove the editing book at this index\n      }, (error) => {\n        console.log(error);\n      });\n  }\n\n  activateAddNewBook() {\n    this.isAddNewBook = true;\n    this.newBook = new Book(null, '', '');\n  }\n\n  addNewBook(newBook: Book, element: any) {\n    //write new book to db\n    this.httpService.createBook(newBook)\n      .subscribe((response: Response) => {\n        let bookJson = response.json();\n        let book: Book = new Book(bookJson.id, bookJson.author, bookJson.title);\n        console.log(book);\n        this.books.push(book);\n        this.newBooks.push(book);\n        this.newBook = new Book(Math.floor(Math.random() * 1000), '', '');\n        element.focus();\n      }, (error) => {\n        console.log(error);\n      });\n  }\n\n  cancelAddBook() {\n    this.isAddNewBook = false;\n  }\n\n\n  selectBook(book: Book) {\n    this.selectedBook = book;\n    this.onBookSelected.emit(book);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/book/book-list/book-list.component.ts","import {Directive, HostListener} from \"@angular/core\";\n\n@Directive({\n  selector: '[appClickStopPropagation]'\n})\nexport class ClickStopPropagationDirective {\n  @HostListener(\"click\", [\"$event\"])\n  public onClick(event: any): void {\n    event.stopPropagation();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/click-stop-propagation.directive.ts","export class Rating{\n  id: number;\n  bookId: number;\n  stars: number;\n\n  constructor(id: number, bookId: number, stars: number) {\n    this.id = id;\n    this.bookId = bookId;\n    this.stars = stars;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/rating.ts","import {Component, OnInit, Input, OnChanges} from \"@angular/core\";\nimport {Rating} from \"../rating\";\nimport {Principal} from \"../principal\";\nimport {HttpService} from \"../http.service\";\nimport {Response} from \"@angular/http\";\n\n@Component({\n  selector: 'app-rating',\n  templateUrl: './rating.component.html',\n  styleUrls: ['./rating.component.css']\n})\nexport class RatingComponent implements OnInit, OnChanges {\n\n  @Input() bookId: number;\n  @Input() principal: Principal = null;\n  ratings: Rating[] = [];\n  stars: number[] = [1,2,3,4,5];\n  newRating: Rating = null;\n\n  constructor(private httpService: HttpService) { }\n\n  ngOnInit() {}\n\n  ngOnChanges() {\n    this.newRating = new Rating(null, this.bookId, 1);\n    this.ratings = [];\n    this.loadRatings();\n  }\n\n  findWidth(rating: Rating): String {\n    let percent: number = (rating.stars/5)*100;\n    return percent.toString() + '%';\n  }\n\n  private loadRatings() {\n    this.httpService.getRatings(this.bookId)\n      .subscribe((response: Response) => {\n        let responseJson: any[] = response.json();\n        responseJson.forEach(rating => this.ratings.push(new Rating(rating.id, rating.bookId, rating.stars)))\n      }, (error) => {\n        console.log(error);\n      });\n  }\n\n  onSaveRating() {\n    console.log(this.newRating);\n    let ratingCopy: Rating = Object.assign({}, this.newRating);\n    this.httpService.createRating(ratingCopy)\n      .subscribe((response: Response) => {\n        let ratingJson = response.json()\n        this.ratings.push(new Rating(ratingJson.id, ratingJson.bookId, ratingJson.stars))\n      }, (error) => {\n        console.log(error);\n      });\n  }\n\n  updateRating() {\n    this.httpService.updateRating(this.newRating)\n      .subscribe(() => {\n        this.newRating = new Rating(null, this.bookId, 1);\n      }, (error) => {\n        console.log(error);\n      });\n  }\n\n  selectRating(rating: Rating) {\n    if (this.principal.isAdmin()) {\n      this.newRating = rating;\n    }\n  }\n\n  cancelSelection() {\n    this.newRating = new Rating(null, this.bookId, 1);\n  }\n\n  deleteRating(index: number) {\n    let rating = this.ratings[index];\n    this.httpService.deleteRating(rating.id)\n      .subscribe(() => {\n        if (this.ratings[index] === this.newRating) {\n          this.newRating = new Rating(null, this.bookId, 1);\n        }\n        this.ratings.splice(index, 1);\n      }, (error) => {\n        console.log(error);\n      });\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/rating/rating.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts"],"sourceRoot":""}